/*
 * @license Angular DOM
 * (c) 2015 Bethel Technologies, LLC http://getbethel.com
 * License: MIT
 */
!function(a){"use strict";a.module("bethel.dom",[]),a.module("bethel.dom").directive("equalize",["$window",function(b){return{restrict:"A",scope:{},link:function(c,d,e){function f(){return e.equalize?"viewport"===e.equalize?d:d[0].querySelectorAll(e.equalize):d[0].children}function g(){i&&c.equalized&&a.forEach(c.equalized,function(b){a.element(b).css("height",i+"px")})}function h(){c.equalized&&("viewport"===e.equalize?i=b.innerHeight:(i=0,a.forEach(c.equalized,function(b){a.element(b).css("height",""),i=Math.max(i,b.offsetHeight)})),(!j||matchMedia(j).matches)&&g())}var i=0,j=e.mediaQuery||!1;j&&"("!==j[0]&&(j="("+j+")"),c.equalized=f(),c.$watch(function(){return d[0].childNodes.length},function(a,b){a&&a!==b&&(c.equalized=f())});var k=["resize","focusin","focusout"];a.forEach(k,function(a){b.addEventListener(a,h)}),c.$watch("equalized",function(a,b){a&&c.$watch(h)})}}}]),a.module("bethel.dom").directive("sticky",["$window",function(b){return{restrict:"A",link:function(c,d,e){function f(b,c){var d=["border-left-width","border-right-width","padding-left","padding-right"];return a.forEach(d,function(a){parseFloat(b.css(a))>=1&&(c-=parseFloat(b.css(a)))}),c}function g(){var a=h[0].getBoundingClientRect(),b=a.top,c=a.bottom-(d[0].offsetHeight+i),e=h[0].offsetWidth;e=f(h,e),d.css("width",e+"px"),parseFloat(h.css("border-bottom-width"))>=1&&(c-=parseFloat(h.css("border-bottom-width"))),b>0?d.css("position","static"):0>c?d.css("top",Math.round(c)+"px"):d.css({position:"fixed",top:i+"px"})}var h=d.parent(),i=Number(e.offset)||0;h.css({position:"relative"}),b.addEventListener("scroll",g),b.addEventListener("resize",g),c.$watch(g)}}}])}(angular);